<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
    <title>Emacs Muse</title>
    <meta name="generator" content="Muse">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <link rel="stylesheet" type="text/css"charset="utf-8" media="all" href="../styles/common.css"  />
  </head>

<body>

  <h1>Emacs Muse
   <!-- menu start here -->
     <div class="menu">
        <div class="menuitem">
          <a href="../home/index.html">Home</a>
        </div>
        <div class="menuitem">
          <a href="../emacs/index.html">Emacs</a>
        </div>
        <div class="menuitem">
          <a href="../complang/index.html">CompLang</a>
        </div>
        <div class="menuitem">
          <a href="../study/index.html">Study</a>
        </div>
	<div class="menuitem">
          <a href="../services/index.html">Services</a>
        </div>
	<div class="menuitem">
          <a href="../home/link.html">Links</a>
        </div>
      </div>
    <!-- menu ends here -->

  </h1>


  <!-- Page published by Emacs Muse begins here -->

<div class="contents">
<dl>
<dt>
<a href="#sec1">What's Muse</a>
</dt>
<dt>
<a href="#sec2">使用心得</a>
</dt>
<dd>
<dl>
<dt>
<a href="#sec3">高亮源代码</a>
</dt>
<dt>
<a href="#sec4">页面预览</a>
</dt>
<dt>
<a href="#sec5">多级目录发布</a>
</dt>
</dl>
</dd>
<dt>
<a href="#sec6">推荐链接</a>
</dt>
</dl>
</div>


<h2><a name="sec1" id="sec1"></a>
What's Muse</h2>

<p><a href="http://mwolson.org/projects/EmacsMuse.html">Emacs Muse</a> is an authoring and publishing environment for Emacs. It simplifies the process of writings documents and publishing them to various output formats. Muse uses a very simple Wiki-like format as input.</p>

<p>Muse consists of two main parts: an enhanced text-mode for authoring documents and navigating within Muse projects, and a set of publishing styles for generating different kinds of output.</p>


<h2><a name="sec2" id="sec2"></a>
使用心得</h2>

<h3><a name="sec3" id="sec3"></a>
高亮源代码</h3>

<p class="first">老版本的Muse可以参考这篇帖子<a href="../download/MuseConfig.tar.bz2">MuseConfig.tar.bz2</a>。新版本的Muse已经支持源代码着色了，只要有htmlize.el就行，</p>

<pre class="example">
&lt;src lang=&quot;c&quot;&gt;
#include &lt;stdlib.h&gt;

char *unused;

int main (int argc, char *argv[])
{
    puts(&quot;Hello, world!\n&quot;);
}
&lt;/src&gt;
</pre>

<p>这样最后生成的html代码中内嵌有颜色和字体控制的css代码，如果想使用在.css文件中定义的风格，需要修改htmlize.el中的部分内容（参考<a href="http://www.mygooglest.com/fni/site-map.html">http://www.mygooglest.com/fni/site-map.html</a>）</p>

<pre class="src">
<span style="color: #ff5f00;">;; </span><span style="color: #ff5f00;">override output type `</span><span style="color: #87ffd7;">inline-css</span><span style="color: #ff5f00;">' used for htmlizing a region
</span>(<span style="color: #00cdcd;">defun</span> <span style="color: #87d7ff;">htmlize-region-for-paste</span> (beg end)
  <span style="color: #ffaf87;">"Htmlize the region and return just the HTML as a string.
This forces the `</span><span style="color: #87ffd7;">css</span><span style="color: #ffaf87;">' style and only returns the HTML body, but
without the BODY tag. This should make it useful for inserting
the text to another HTML buffer."</span>
  (<span style="color: #00cdcd;">let*</span> ((htmlize-output-type 'css)  <span style="color: #ff5f00;">; </span><span style="color: #ff5f00;">was `</span><span style="color: #87ffd7;">inline-css</span><span style="color: #ff5f00;">'
</span>         (htmlbuf (htmlize-region beg end)))
    (<span style="color: #00cdcd;">unwind-protect</span>
        (<span style="color: #00cdcd;">with-current-buffer</span> htmlbuf
          (buffer-substring (plist-get htmlize-buffer-places 'content-start)
                            (plist-get htmlize-buffer-places 'content-end)))
      (kill-buffer htmlbuf))))
</pre>


<h3><a name="sec4" id="sec4"></a>
页面预览</h3>

<p class="first">默认设置下C-c C-v可以在浏览器中打开当前页面，打开的浏览器是和.html文件关联的那个。</p>


<h3><a name="sec5" id="sec5"></a>
多级目录发布</h3>

<p class="first">以我的学习笔记为例</p>

<pre class="src">
(setq muse-project-alist
      `(
        (<span style="color: #ffaf87;">"StudyNotes"</span>
         (,@(muse-project-alist-dirs <span style="color: #ffaf87;">"~/muse/source/study"</span>)
          <span style="color: #afd7d7;">:default</span> <span style="color: #ffaf87;">"index"</span>)
         ,@(muse-project-alist-styles <span style="color: #ffaf87;">"~/muse/source/study"</span>
                                      <span style="color: #ffaf87;">"~/muse/html/study"</span>
                                      <span style="color: #ffaf87;">"html"</span>))
        ))
</pre>



<h2><a name="sec6" id="sec6"></a>
推荐链接</h2>

<ul>
<li><a href="http://learn.tsinghua.edu.cn:8080/2005211356/">叶文彬的主页</a> 里面有不少好用的elisp函数，另外所有页面的muse源代码是公开的。</li>
<li><a href="http://learn.tsinghua.edu.cn:8080/2004211031/publish/Default/WelcomePage.html">bethoven 的个人主页</a> 用Emacs Wiki生成的一个主页，我的主页css就是在它的基础上改的。</li>
</ul>


<!-- Page published by Emacs Muse ends here -->
<p>
<center>
最后更新：
2009-03-18 22:10:10
</center>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-2241833-7");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>

